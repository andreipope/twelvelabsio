---
title: "Providing Transcriptions From the Local File System"
---

In this guide you'll learn how to upload a video and provide a transcription when both files reside on the local file system. 

Note that, although the example code in this guide is written in [Python](https://www.python.org) and [Node.js](https://nodejs.org/en/), the API is compatible with most programming languages, and you can also use [Postman](https://www.postman.com) or other REST clients to send requests and view responses.

## Prerequisites

* Your transcription must be in the SRT or VTT format.

* Your video must meet the following requirements:  
   * **Video resolution:** must be greater or equal than 360p and less than 1080p (FHD)  
   * **Duration**: must be between 15 seconds and 2 hours (7,200s) If you require different options, send us an email at support\[at\]twelvelabs.io.

* You're familiar with the concepts that are described on the [Understand](/understand) page.

* You've already created an index. For details, see the [Create an Index](/reference/api-reference/indexes#create-an-index) section.

## Recommendations

* For consistent search results, Twelve Labs recommends you upload 360p videos.

## Procedure

1\. Declare the [tasks endpoint](/reference/api-reference/indexes-tasks):

Python

Node.js

INDEX\_TASK\_URL \= f"{API\_URL}/indexes/tasks"

const INDEX\_TASK\_URL \= \`${API\_URL}/indexes/tasks\`

2\. Read your video file. Open a stream, making sure to replace the placeholders surrounded by `<>` with your values.

Python

Node.js

video\_file\_path \= "<YOUR\_VIDEO\_FILE\_PATH>"

video\_file\_name \= "<YOUR\_VIDEO\_FILE\_NAME>"

video\_file\_stream \= open(video\_file\_path, "rb")

const video\_file\_path \= '<YOUR\_VIDEO\_FILE\_PATH>'

const video\_file\_stream \= fs.createReadStream(video\_file\_path)

3\. Read your transcription file. Open a stream, making sure to replace the placeholders surrounded by `<>` with your values:

Python

Node.js

transcription\_file\_path \= "<YOUR\_TRANSCRIPTION\_FILE\_PATH>"

transcription\_file\_name \= "<YOUR\_TRANSCRIPTION\_FILE\_NAME>"

transcription\_file\_stream \= open(transcription\_file\_path, "rb")

const transcription\_file\_path \= '<YOUR\_TRANSCRIPTION\_FILE\_PATH>'

const transcription\_file\_stream \= fs.createReadStream(transcription\_file\_path)

4\. To provide a transcription file, you must set the `provide_transcription` parameter to `true` and specify the index ID, the language of your video, and the video and transcription files:

Python

Node.js

Store the `provide_transcription` parameter, the index ID, and the language of your video in a dictionary named `data`. Then, store the video and transcription files in an array named `file_param`:

data \= {

"provide\_transcription": True

"index\_id": "<YOUR\_INDEX\_ID>",

"language": "en",

}

file\_param \= \[

("video\_file", (video\_file\_name, video\_file\_stream, "application/octet-stream")),

("transcription\_file", (transcription\_file\_name, transcription\_file\_stream, "application/octet-stream")),

\]

Store all the required parameters in a variable named `formData` of type `FormData`:

let formData \= new FormData()

 formData.append('provide\_transcription', 'true')

 formData.append('INDEX\_ID', '<YOUR\_INDEX\_ID>')

 formData.append('language', 'en')

 formData.append('video\_file', video\_file\_stream)

 formData.append('transcription\_file', transcription\_file\_stream)

5\. Upload your video and transcription files. Call the [tasks endpoint](/reference/api-reference/indexes-tasks#creates-a-new-video-index-task) and store the result in a variable named `response`:

Python

Node.js

response \= requests.post(INDEX\_TASK\_URL, headers\=headers, data\=data, files\=file\_param)

config \= {

method: 'post',

url: INDEX\_TASK\_URL,

headers: headers,

data : formData

};

resp \= await axios(config)

response \= await resp.data

6\. Store the ID of your task in a variable named `TASK_ID` and print the status code and response:

Python

Node.js

TASK\_ID \= response.json().get("\_id")

print (f"Status code: {response.status\_code}")

pprint (response.json())

const TASK\_ID \= response.\_id

console.log(\`Status code: ${resp.status}\`)

console.log(response)

The output should look similar to the following one:

Status code: 200

{'\_id': '626a229622c7851fcbe5c83b',

'message': 'Succesfully requested indexing task',

'type': 'index\_task\_create'}

7\. _(Optional)_ You can use the [tasks/{\_id}](/reference/api-reference/indexes-tasks#get-the-status-info-of-the-video-index-task.) endpoint to monitor the indexing process. Wait until the status shows as `ready`:

Python

Node.js

INDEX\_TASK\_STATUS\_URL \= f"{API\_URL}/indexes/tasks/{TASK\_ID}"

while True:

 response \= requests.get(INDEX\_TASK\_STATUS\_URL, headers\=headers)

 STATUS \= response.json().get("status")

if STATUS \== "ready":

print (f"Status code: {STATUS}")

 pprint (response.json())

break

 time.sleep(10)

const INDEX\_TASK\_STATUS\_URL \= \`${API\_URL}/indexes/tasks/${TASK\_ID}\`

config \= {

method: 'get',

url: INDEX\_TASK\_STATUS\_URL,

headers: headers,

}

let STATUS

do {

 resp \= await axios(config)

 response \= await resp.data

STATUS \= response.status

if (STATUS !== 'ready')

await new Promise(r \=> setTimeout(r, 10000));

} while (STATUS !== 'ready')

console.log(\`Status code: ${STATUS}\`)

console.log(response)

The output should look similar to the following one:

Status code: 200

{'\_id': '626a3ddc22c7851fcbe5c844',

 'created\_at': '2022-04-28T07:10:20.453Z',

 'estimated\_time': '2022-04-28T07:22:08.885Z',

 'index\_id': '626a273122c7851fcbe5c842',

 'metadata': {'duration': 552.92,

 'filename': 'car-accidents.mp4',

 'height': 720,

 'width': 1280},

 'status': 'ready',

 'type': 'index\_task\_info',

 'updated\_at': '2022-04-28T07:22:09.16Z'}

**NOTE**: For details about the possible statuses, see the [Indexes/Tasks](/reference/api-reference/indexes-tasks) page.

## Related Topics

* [Indexes/Tasks](/reference/api-reference/indexes-tasks)