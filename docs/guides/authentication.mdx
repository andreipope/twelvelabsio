---
title: "Authentication"
---

The API uses keys for authentication, and your key is similar to a password. Avoid distributing your API key to other users, or hard-coding it. Generate a new key whenever you think your account may have been compromised.

For security reasons, your API key automatically expires every two months. When your key has expired, you must generate a new one to continue using the API.

**NOTES**: 

* If your policies require you to rotate keys more often, you can always generate a new key.

* If you want to pause using the API without deleting your account, you can revoke your API key.

The process of managing your API key can be divided into the following tasks:

* **Retrieve your API key**: Go to the [Dashboard](https://api.twelvelabs.io/dashboard) page, and select the **Copy** button under the **API Key** section.

* **Generate a new API key**: Go to the [Dashboard](https://api.twelvelabs.io/dashboard) page, choose **Settings** from the sidebar, and then select the **Regenerate Key** button under the **API Key** section.

* **Revoke an API key**: Go to the [Dashboard](https://api.twelvelabs.io/dashboard) page, choose **Settings** from the sidebar, and then select the **Revoke Key** button under the **API Key** section.

## Making Requests to the API

Every time you make a request, you must pass the `x-api-key` header parameter with the value of your API key as shown in the example below:

Python

Node.js

\# Retrieve your API key from an environment variable named \`API\_KEY\`

API\_KEY \= os.getenv('API\_KEY')

assert API\_KEY


\# Declare the \`headers\` dictionary containing your API key

headers \= {

"x-api-key": os.getenv('API\_KEY')

}


INDEXES\_URL \= f"{API\_URL}/indexes"

INDEX\_NAME \= "<YOUR\_INDEX\_NAME>" 

data \= {

"engine\_id": "marengo2",

"index\_options": \["visual", "conversation", "text\_in\_video"\],

"index\_name": INDEX\_NAME,

}

\# Make a POST request to the \`indexes\` endpoint, passing the \`x-api-key\` header parameter

response \= requests.post(INDEXES\_URL, headers\=headers, json\=data)

INDEX\_ID \= response.json().get('\_id')

print (f'Status code: {response.status\_code}')

pprint (response.json())

// Retrieve your API key from an environment variable named \`API\_KEY\`

const API\_KEY \= process.env.API\_KEY

if (typeof API\_KEY \=== 'undefined') {

 console.log('API\_KEY is not defined.')

 process.exit(1)

}


// Declare the \`headers\` object containing your API key

const headers \= {

'x-api-key': process.env.API\_KEY

}

const INDEXES\_URL \= \`${API\_URL}/indexes\`

const INDEX\_NAME \= '<YOUR\_INDEX\_NAME>' 

let data \= JSON.stringify({

"engine\_id": "marengo",

"index\_options": \["visual", "conversation", "text\_in\_video"\],

"index\_name": INDEX\_NAME

})

let config \= {

method: 'post',

url: INDEXES\_URL,

headers: headers,

data : data

}


// Make a POST request to the \`indexes\` endpoint, passing the \`x-api-key\` header parameter

let resp \= await axios(config)

let response \= await resp.data

const INDEX\_ID \= response.\_id

console.log(\`Status code: ${resp.status}\`)

console.log(response)

If your key has expired or is invalid, the response should look similar to the following:

{

 "code": 401,

 "error": "token is not valid",

 "message": "Please provide a valid token"

}